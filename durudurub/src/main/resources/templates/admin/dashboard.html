<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{/layouts/main_layout}"
      th:with="isAdminPage=true">
<head>
    <title>관리자 대시보드 - 두루두룹</title>
    <th:block layout:fragment="css">
        <link rel="stylesheet" th:href="@{/css/admin/dashboard.css}">
    </th:block>
</head>
<body>
    <main layout:fragment="content" class="main-content">
        <!-- 헤더 -->
        <header class="page-header">
            <div class="header-left">
                <h1>관리자 대시보드</h1>
                <p>두루두룹 서비스 관리</p>
            </div>
            <button class="btn-main" onclick="location.href='/'">
                메인으로
            </button>
        </header>

        <!-- 관리자 네비 -->
        <nav class="admin-nav">
            <button class="nav-tab active">
                <span class="material-symbols-outlined">dashboard</span>
                <span>대시보드</span>
            </button>
            <button class="nav-tab" onclick="location.href='/admin/users'">
                <span class="material-symbols-outlined">group</span>
                <span>사용자 관리</span>
            </button>
            <button class="nav-tab" onclick="location.href='/admin/clubs'">
                <span class="material-symbols-outlined">groups</span>
                <span>모임 관리</span>
            </button>
            <button class="nav-tab" onclick="location.href='/admin/reports'">
                <span class="material-symbols-outlined">report</span>
                <span>신고 관리</span>
            </button>
            <button class="nav-tab" onclick="location.href='/admin/banners'">
                <span class="material-symbols-outlined">image</span>
                <span>광고 배너 관리</span>
            </button>
            <button class="nav-tab" onclick="location.href='/admin/categories'">
                <span class="material-symbols-outlined">category</span>
                <span>카테고리 관리</span>
            </button>
        </nav>
        
        <!-- Statistics Cards -->
        <div class="stats-container">
            <div class="stat-card stat-users">
                <div class="stat-icon">
                    <span class="material-symbols-outlined">group</span>
                </div>
                <div class="stat-content">
                    <p class="stat-label">전체 사용자</p>
                    <p class="stat-value" th:text="${totalUsers}"></p>
                </div>
            </div>

            <div class="stat-card stat-clubs">
                <div class="stat-icon">
                    <span class="material-symbols-outlined">article</span>
                </div>
                <div class="stat-content">
                    <p class="stat-label">전체 모임</p>
                    <p class="stat-value" th:text="${totalClubs}"></p>
                </div>
            </div>

            <div class="stat-card stat-reports">
                <div class="stat-icon">
                    <span class="material-symbols-outlined">report</span>
                </div>
                <div class="stat-content">
                    <p class="stat-label">신고 접수 내역</p>
                    <p class="stat-value" th:text="${totalReports ?: '23'}">23</p>
                </div>
            </div>
        </div>

        <!-- 최근 활동 리스트 -->
        <section class="activity-section">
            <h2>최근 활동</h2>
            <div class="activity-list">
                <div class="activity-item" th:each="activity : ${activities ?: #lists.toList('1', '2', '3')}">
                    <div th:if="${activity == '1'}" class="activity-icon activity-club">
                        <span class="material-symbols-outlined">dashboard</span>
                    </div>
                    <div th:if="${activity == '2'}" class="activity-icon activity-user">
                        <span class="material-symbols-outlined">group</span>
                    </div>
                    <div th:if="${activity == '3'}" class="activity-icon activity-notice">
                        <span class="material-symbols-outlined">article</span>
                    </div>
                    
                    <div class="activity-content">
                        <p class="activity-text" th:if="${activity == '1'}">새로운 모임 "독서 토론방"이 생성되었습니다</p>
                        <p class="activity-text" th:if="${activity == '2'}">새로운 사용자 5명이 가입했습니다</p>
                        <p class="activity-text" th:if="${activity == '3'}">공지사항이 업데이트되었습니다</p>
                        
                        <p class="activity-time" th:if="${activity == '1'}">10분 전</p>
                        <p class="activity-time" th:if="${activity == '2'}">1시간 전</p>
                        <p class="activity-time" th:if="${activity == '3'}">3시간 전</p>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <th:block layout:fragment="script"></th:block>
</body>
</html>
