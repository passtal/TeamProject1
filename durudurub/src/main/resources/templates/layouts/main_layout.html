<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <th:block th:replace="~{fragments/meta :: meta}"></th:block>
    <th:block th:replace="~{fragments/head :: head}"></th:block>
    <title layout:title-pattern="$CONTENT_TITLE - $LAYOUT_TITLE">두루두룹</title>

    <!-- Icon -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    
    <!-- 페이지별 추가 CSS -->
    <th:block layout:fragment="css"></th:block>
</head>
<body>
    <!-- 헤더 -->
    <header th:replace="~{fragments/header :: header}"></header>
    
    <!-- 메인 컨텐츠 -->
    <main layout:fragment="content">
        <!-- 각 페이지의 내용이 여기에 들어갑니다 -->
    </main>
    
    <!-- 푸터 -->
    <footer th:replace="~{fragments/footer :: footer}"></footer>
    
    <!-- 플로팅 버튼 (상단으로 이동) -->
    <button class="floating-btn" onclick="scrollToTop()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 19V5M12 5L5 12M12 5L19 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>
    
    <!-- 공통 스크립트 -->
    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script th:inline="javascript">
        // 상단으로 스크롤
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
        
        // 스크롤 시 플로팅 버튼 표시/숨김
        $(window).scroll(function() {
            if ($(this).scrollTop() > 300) {
                $('.floating-btn').fadeIn();
            } else {
                $('.floating-btn').fadeOut();
            }
        });
        
        // 페이지 로드 시 플로팅 버튼 숨김
        $(document).ready(function() {
            $('.floating-btn').hide();
        });
    </script>
    
    <!-- 페이지별 추가 스크립트 -->
    <th:block layout:fragment="script"></th:block>

    <!-- Footer Fragment -->
    <th:block th:replace="~{fragments/scripts :: scripts}"></th:block>
</body>
</html>
